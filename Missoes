<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>üèÜ Miss√µes - Divina Op√ß√£o</title>
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
  <style>
    body {
      background: url('assets/fundo.png') no-repeat center center fixed;
      background-size: cover;
      font-family: 'MedievalSharp', cursive;
      color: #fdf6e3;
      margin: 0;
      padding: 0;
    }
    header {
      background: rgba(44, 27, 13, 0.9);
      padding: 30px;
      text-align: center;
      border-bottom: 3px solid #d4af37;
      box-shadow: 0 4px 10px #000;
    }
    header h1 {
      font-size: 2.5rem;
      margin: 0;
    }
    main {
      padding: 30px;
      background: rgba(0, 0, 0, 0.65);
      min-height: 80vh;
      max-width: 900px;
      margin: 0 auto;
      border-radius: 12px;
      box-shadow: 0 0 20px #000;
    }
    h2 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      text-align: center;
      color: #ffd700;
    }
    .missao {
      background: #362c1a;
      border: 2px solid #d4af37;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px #000;
    }
    .missao h3, .missao p {
      margin: 5px 0;
    }
    .missao button {
      background: #d4af37;
      border: none;
      color: #000;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    .missao button:hover {
      background: #e5c100;
    }
    .botoes {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }
    .botao {
      background: #6b4226;
      color: #fff;
      padding: 12px 24px;
      text-decoration: none;
      border: 2px solid #d4af37;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: bold;
      transition: background 0.3s;
    }
    .botao:hover {
      background: #8b5e34;
    }
  </style>
</head>
<body>
  <header>
    <h1>üèÜ Miss√µes - Divina Op√ß√£o</h1>
  </header>

  <main>
    <h2>üí∞ Ouro: <span id="moedas">0</span> PO</h2>

    <div id="lista-missoes"></div>

    <div class="botoes">
      <a href="index.html" class="botao">‚Üê Voltar ao In√≠cio</a>
    </div>
  </main>

  <script>
    (function(){
      function load(key, def){ try{ return JSON.parse(localStorage.getItem(key))||def }catch{return def} }
      function save(key,val){ localStorage.setItem(key,JSON.stringify(val)); }

      let moedas = load('moedas', 0);
      let missoes = load('missoes', [
        { nome: "Derrote o Goblin", descricao: "Elimine um Goblin para ganhar 50 PO.", recompensa: 50, concluida: false },
        { nome: "Encontre o Artefato", descricao: "Recupere um artefato perdido e ganhe 100 PO.", recompensa: 100, concluida: false },
        { nome: "Ca√ßa ao Tesouro", descricao: "Encontre o tesouro escondido e ganhe 150 PO.", recompensa: 150, concluida: false },
        { nome: "Proteja a Vila", descricao: "Defenda a vila de monstros invasores para ganhar 200 PO.", recompensa: 200, concluida: false },
        { nome: "Resgate a Princesa", descricao: "Resgate a princesa sequestrada e ganhe 300 PO.", recompensa: 300, concluida: false },
        { nome: "Ca√ßa ao Drag√£o", descricao: "Enfrente o drag√£o e ganhe 500 PO.", recompensa: 500, concluida: false },
        { nome: "Expedi√ß√£o ao Bosque Sombrio", descricao: "Explore o Bosque Sombrio e retorne com provas para ganhar 250 PO.", recompensa: 250, concluida: false },
        { nome: "Espionagem nas Terras Inimigas", descricao: "Obtenha informa√ß√µes sobre os inimigos e ganhe 200 PO.", recompensa: 200, concluida: false },
        { nome: "Constru√ß√£o do Forte", descricao: "Ajude a construir um forte para proteger a cidade e ganhe 150 PO.", recompensa: 150, concluida: false },
        { nome: "Resolu√ß√£o do Mist√©rio do Lago", descricao: "Descubra o segredo do Lago das Sombras e ganhe 350 PO.", recompensa: 350, concluida: false },
      ]);
      const moedasDOM = document.getElementById('moedas');
      const listaDOM = document.getElementById('lista-missoes');
      moedasDOM.textContent = moedas;

      function renderMissoes() {
        listaDOM.innerHTML = '';

        if (missoes.length === 0) {
          listaDOM.innerHTML = '<p>Nenhuma miss√£o dispon√≠vel.</p>';
          return;
        }

        missoes.forEach((missao, index) => {
          const el = document.createElement('div');
          el.className = 'missao';
          el.innerHTML = `
            <h3>${missao.nome}</h3>
            <p>${missao.descricao}</p>
            <p><strong>Recompensa:</strong> ${missao.recompensa} PO</p>
            ${missao.concluida ? 
              `<button disabled>‚úÖ Miss√£o Conclu√≠da</button>` : 
              `<button onclick="concluirMissao(${index})">‚úÖ Concluir Miss√£o</button>`}
          `;
          listaDOM.appendChild(el);
        });
      }

      window.concluirMissao = function(index){
        const missao = missoes[index];
        if(!missao || missao.concluida) return;
        moedas += missao.recompensa;
        missoes[index].concluida = true;
        save('moedas', moedas);
        save('missoes', missoes);
        moedasDOM.textContent = moedas;
        renderMissoes();
        alert(`Voc√™ concluiu a miss√£o "${missao.nome}" e ganhou ${missao.recompensa} PO!`);
      }

      renderMissoes();
    })();
  </script>
</body>
</html>
